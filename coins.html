<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BLOCKVISION â€¢ Live Market Assets</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #020204;
  --panel: #0a0f14;
  --accent: #20f6ff;
  --accent2: #15ff62;
  --text: #e6f7ff;
  --soft: #7c8a9a;
  --danger: #ff3355;
  --green: #24ff82;
}

* { margin:0; padding:0; box-sizing:border-box; }
body {
  background: var(--bg);
  font-family: "Inter", sans-serif;
  color: var(--text);
}

/* NAV */
nav {
  width:100%;
  padding:20px 40px;
  position:fixed;
  top:0;
  z-index:50;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(0,0,0,0.35);
  backdrop-filter:blur(10px);
  border-bottom:1px solid rgba(255,255,255,0.08);
}

nav h1 {
  font-family:"Orbitron";
  font-size:22px;
  color:var(--accent);
  letter-spacing:3px;
}

nav a {
  margin-left:20px;
  color:var(--text);
  text-decoration:none;
  font-weight:600;
  transition:.3s;
}
nav a:hover {
  color:var(--accent2);
}

/* TITLE */
header {
  padding-top:110px;
  text-align:center;
}
header h2 {
  font-family:"Orbitron";
  font-size:32px;
  color:var(--accent2);
}

header p {
  font-size:16px;
  color:var(--soft);
  margin-top:6px;
}

/* SEARCH */
.search-box {
  width:100%;
  display:flex;
  justify-content:center;
  margin-top:25px;
}
.search-box input {
  width:60%;
  padding:14px;
  border-radius:10px;
  background:var(--panel);
  border:1px solid rgba(255,255,255,0.06);
  color:var(--text);
  font-size:16px;
}

/* TABLE */
.table-wrapper {
  width:92%;
  margin:40px auto;
  overflow-x:auto;
}

table {
  width:100%;
  border-collapse:collapse;
  background:var(--panel);
  border-radius:14px;
  overflow:hidden;
}

thead {
  background:#0d1319;
}

th {
  padding:14px;
  text-align:left;
  font-family:"Orbitron";
  font-size:14px;
  color:var(--accent);
}

td {
  padding:14px;
  border-bottom:1px solid rgba(255,255,255,0.05);
  color:var(--text);
  font-size:15px;
}

.coin {
  display:flex;
  align-items:center;
  gap:12px;
}

.coin img {
  width:26px;
  height:26px;
}

.green {
  color:var(--green);
}

.red {
  color:var(--danger);
}
</style>
</head>
<body>

<nav>
  <h1>BLOCKVISION</h1>
  <div>
    <a href="index.html">Home</a>
    <a href="roadmap.html">Roadmap</a>
    <a href="tokenomics.html">Tokenomics</a>
    <a href="coins.html">Live Assets</a>
    <a href="https://twitter.com/ablockvision" target="_blank">@ablockvision</a>
  </div>
</nav>

<header>
  <h2>LIVE MARKET ASSET TERMINAL</h2>
  <p>Real-time crypto intelligence from the BLOCKVISION Engine.</p>
</header>

<div class="search-box">
  <input type="text" id="search" placeholder="Search coins...">
</div>

<div class="table-wrapper">
<table id="coinTable">
  <thead>
    <tr>
      <th>#</th>
      <th>Coin</th>
      <th>Price</th>
      <th>24h</th>
      <th>7d</th>
      <th>Market Cap</th>
      <th>Volume</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>
</div>

<script>
async function loadCoins() {
  const url =
    "https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_rank&per_page=200&page=1&sparkline=false&price_change_percentage=24h,7d";

  const res = await fetch(url);
  const data = await res.json();

  const tbody = document.querySelector("#coinTable tbody");
  tbody.innerHTML = "";

  data.forEach((coin, i) => {
    const row = document.createElement("tr");

    row.innerHTML = `
      <td>${coin.market_cap_rank}</td>
      <td>
        <div class="coin">
          <img src="${coin.image}">
          ${coin.name} (${coin.symbol.toUpperCase()})
        </div>
      </td>
      <td>$${coin.current_price.toLocaleString()}</td>
      <td class="${coin.price_change_percentage_24h >= 0 ? "green" : "red"}">
        ${coin.price_change_percentage_24h.toFixed(2)}%
      </td>
      <td class="${coin.price_change_percentage_7d_in_currency >= 0 ? "green" : "red"}">
        ${coin.price_change_percentage_7d_in_currency.toFixed(2)}%
      </td>
      <td>$${coin.market_cap.toLocaleString()}</td>
      <td>$${coin.total_volume.toLocaleString()}</td>
    `;

    tbody.appendChild(row);
  });
}

loadCoins();
setInterval(loadCoins, 5000); // update every 5 seconds

// SEARCH FILTER
document.getElementById("search").addEventListener("input", function () {
  const value = this.value.toLowerCase();
  const rows = document.querySelectorAll("#coinTable tbody tr");

  rows.forEach(row => {
    const txt = row.innerText.toLowerCase();
    row.style.display = txt.includes(value) ? "" : "none";
  });
});
</script>

</body>
</html>
